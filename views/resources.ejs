
<!DOCTYPE html>
<html>
<head>
<style>
  .resourceArea{
   
    width :100%;
    border-style: solid;
    border-color: #F0F8FF;
    height: 4.5em;
    border-width: 1px;
    cursor:pointer;
  }
  .txt{
    margin-right: 10px;
    margin-left: 10px;
  }

  #list{
    width :100%;
    height: 100%;
    padding-top: 0px;
    padding-right: 0px;
    padding-bottom: 0px;
    padding-left: 0px;

  }
  .scrap{
    float:left;
    width:5em;
    height:100%;
    position:relative;
    margin-right:1em;
  }
  .authorName{
    position:relative;
    float: right;
    right:4em;
    top:1em;
  }
  .author{
    width:5em;
    height:100%;
    position:relative;
    float:right;
  }
  .stars{
            height: 1em;
            width: 1em;
            float: right;
            position:relative;
            margin:auto;
            cursor:pointer ;
        }
</style>
<script>
  
</script>
<script>
function selectResources(){
          $("#HBL").removeClass("active");
          $("#ABL").removeClass("active");
          $("#RBL").addClass("active");
          console.log("Making Resources Active");
        }
        selectResources();
</script>
</head>
<body>
    <ul id="list">
     
    </ul>
    <script>
      
      function fillList(value){
               console.log("Filling List");
                $.ajax({
                    url: '/getResources',
                    type: 'POST',
                    success: function(data){
                      console.log(data);
                      if(data.moreData && data.logged){
                        console.log(data);
                        var list = document.getElementById('list');
                        var entry = document.createElement('li');
                        var di = document.createElement('div');
                        

                        di.id= "" + data.id;//make sure this works
                        console.log("Value is " + value);
                        
                        di.onclick = function()  {
                         
                          data.id = data.id;
                          console.log("ID is: " + data.id);
                          $.ajax({
                            url: '/sendID',
                            type: 'POST',
                            contentType: 'application/json',
                            data: JSON.stringify(data),
                            dataType: 'json',
                            success: function(data){
                                console.log("success");
                                /*Change This If you change port*/
                                self.location = "http://localhost:4008/resourcePage";
                            },
                            error: function(xhr,status,error){
                              console.log("error");
                            }
                          });
                        }
                        
                        di.className = "resourceArea";
                        
                        var starDiv = document.createElement('div');
                        di.appendChild(starDiv);
                        starDiv.className = "radioButton";
                        
                        
                        var radio = document.createElement('div');
                        starDiv.appendChild(radio);
                        radio.className="radio";
                        var image1 = document.createElement('img');
                        radio.appendChild(image1);
                        image1.className="stars";
                        image1.id="starOne";
                        image1.src = "star.png";

                        var radio = document.createElement('div');
                        starDiv.appendChild(radio);
                        radio.className="radio";
                        var image1 = document.createElement('img');
                        radio.appendChild(image1);
                        image1.className="stars";
                        image1.id="starTwo";
                        image1.src = "star.png";

                        var radio = document.createElement('div');
                        starDiv.appendChild(radio);
                        radio.className="radio";
                        var image1 = document.createElement('img');
                        radio.appendChild(image1);
                        image1.className="stars";
                        image1.id="starThree";
                        image1.src = "star.png";

                        var radio = document.createElement('div');
                        starDiv.appendChild(radio);
                        radio.className="radio";
                        var image1 = document.createElement('img');
                        radio.appendChild(image1);
                        image1.className="stars";
                        image1.id="starFour";
                        image1.src = "star.png";

                        var radio = document.createElement('div');
                        starDiv.appendChild(radio);
                        radio.className="radio";
                        var image1 = document.createElement('img');
                        radio.appendChild(image1);
                        image1.className="stars";
                        image1.id="starFive";
                        image1.src = "star.png";

                        colorStuff(di);
                        var picture = document.createElement('img');
                        picture.src = "/resourceImages/" + data.title + data.id + "." + data.ext;
                        picture.className="scrap";
                        var authorPic = document.createElement('img');
                        authorPic.className="author";
                        authorPic.src = "/images/" + data.author + data.usrID + "." + data.authorExt;
                        di.appendChild(authorPic);
                        di.appendChild(picture);
                        var authorName = document.createElement('p');
                        authorName.className = "authorName";
                        console.log("Author name is: " + data.author);
                        authorName.innerHTML = data.author;//here
                        di.appendChild(authorName);
                        var heading = document.createElement('h4');
                        heading.className="txt";
                        heading.innerHTML = data.title;
                        var par = document.createElement('p');
                        par.innerHTML=data.desc;
                        par.className="txt";
                        list.appendChild(entry);
                        entry.appendChild(di);
                        di.appendChild(heading);
                        di.appendChild(par);
                        fillList(value+1);
                      }else{
                        console.log("All Data Used in MYSQL");
                      }
                    },
                    error: function(xhr,status,error){
                      console.log("error");
                      }
                    });
               
      }
        var value = 0;
        fillList(value);
      
      function colorStuff(item){
    item.style.color="#FFFFFF";
    var num = Math.floor((Math.random() * 5));
    console.log(num);
    switch(num){
      
      case 0:
        item.style.background="#808000";
      break;
      case 1:
        item.style.background="#2E8B57";
      break;
      case 2:
        item.style.background="#800080";
      break;
      case 3:
        item.style.background="#000080";
      break;
      case 4:
        item.style.background="#6A5ACD";
      break;
      case 5:
        item.style.background="#2F4F4F";
      break;
}

  }
  


    </script>
  


</body>
</html>
